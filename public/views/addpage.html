{% extends "layout.html" %}

{% block content %}
  <h3>Add a Page</h3>
  <hr>
  <form method="POST" action="/recipes/">
    
    <div class="form-group">
      <label for="author" class="col-sm-2 control-label">Recipe By</label>
      <div class="col-sm-10">
        <input name="author" type="text" class="form-control"/>
      </div>
    </div>

    
    <div class="form-group">
      <label for="title" class="col-sm-2 control-label">Recipe Title</label>
      <div class="col-sm-10">
        <input name="title" type="text" class="form-control"/>
      </div>
    </div>

    <div id= "ingredientList">
    <div class="form-group">
      <label for="ingredient1" class="col-sm-2 control-label">Ingredients</label>
      <div class="col-sm-10">
        <input name="ingredient1" type="text" class="form-control" />
      </div>
    </div>
    </div>    
    <div class="col-sm-offset-2 col-sm-10">
    <button class="btn" id= "add-btn">add another</button>
    </div>

    <div class="form-group">
      <label for="instructions" class="col-sm-2 control-label">Instructions</label>
      <div class="col-sm-10">
        <textarea name="instructions"></textarea>
      </div>
    </div>

    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  
  </form>
  <form method="POST" action= "/recipes/recipe_by_url">
    <div class ="form-group">
      <label for="RecipeUrl">Add Recipe From URL</label>
    </div>
  </form>
<script>
var addButton = document.getElementById('add-btn')
var ingredientNum = 2;
addButton.addEventListener('click', function(event){
  event.preventDefault();
  var ingredients = document.getElementById('ingredientList')
  ingredients.innerHTML += '<div class = "form-group"><label for="ingredient' + ingredientNum + '"class="col-sm-2 control-label">Ingredient ' + ingredientNum + '</label><div class="col-sm-10"><input name="ingredient' + ingredientNum + '" type="text" class="form-control" /></div></div>';
ingredientNum++
});
 
</script>
{% endblock %}